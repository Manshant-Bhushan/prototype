.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "GDAL-VECTOR_CONCAT" "1" "Jul 12, 2025" "" "GDAL"
.SH NAME
gdal-vector_concat \- Concatenate vector datasets
.sp
Added in version 3.11.

.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.EX
Usage: gdal vector concat [OPTIONS] <INPUT>... <OUTPUT>

Concatenate vector datasets.

Positional arguments:
  \-i, \-\-input <INPUT>                                        Input vector datasets [1.. values] [required]
  \-o, \-\-output <OUTPUT>                                      Output vector dataset [required]

Common Options:
  \-h, \-\-help                                                 Display help message and exit
  \-\-json\-usage                                               Display usage as JSON document and exit
  \-\-config <KEY>=<VALUE>                                     Configuration option [may be repeated]
  \-\-progress                                                 Display progress bar

Options:
  \-l, \-\-layer, \-\-input\-layer <INPUT\-LAYER>                   Input layer name(s) [may be repeated]
  \-f, \-\-of, \-\-format, \-\-output\-format <OUTPUT\-FORMAT>        Output format (\(dqGDALG\(dq allowed)
  \-\-co, \-\-creation\-option <KEY>=<VALUE>                      Creation option [may be repeated]
  \-\-lco, \-\-layer\-creation\-option <KEY>=<VALUE>               Layer creation option [may be repeated]
  \-\-overwrite                                                Whether overwriting existing output is allowed
  \-\-update                                                   Whether to open existing dataset in update mode
  \-\-overwrite\-layer                                          Whether overwriting existing layer is allowed
  \-\-append                                                   Whether appending to existing layer is allowed
  \-\-mode <MODE>                                              Determine the strategy to create output layers from source layers . MODE=merge\-per\-layer\-name|stack|single (default: merge\-per\-layer\-name)
  \-\-output\-layer <OUTPUT\-LAYER>                              Name of the output vector layer (single mode), or template to name the output vector layers (stack mode)
  \-\-source\-layer\-field\-name <SOURCE\-LAYER\-FIELD\-NAME>        Name of the new field to add to contain identificoncation of the source layer, with value determined from \(aqsource\-layer\-field\-content\(aq
  \-\-source\-layer\-field\-content <SOURCE\-LAYER\-FIELD\-CONTENT>  A string, possibly using {AUTO_NAME}, {DS_NAME}, {DS_BASENAME}, {DS_INDEX}, {LAYER_NAME}, {LAYER_INDEX}
  \-\-field\-strategy <FIELD\-STRATEGY>                          How to determine target fields from source fields. FIELD\-STRATEGY=union|intersection (default: union)
  \-s, \-\-src\-crs <SRC\-CRS>                                    Source CRS
  \-d, \-\-dst\-crs <DST\-CRS>                                    Destination CRS

Advanced Options:
  \-\-if, \-\-input\-format <INPUT\-FORMAT>                        Input formats [may be repeated]
  \-\-oo, \-\-open\-option <KEY>=<VALUE>                          Open options [may be repeated]
.EE
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
\fBgdal vector concat\fP concatenates several source datasets.
.sp
It has 3 main modes:
.INDENT 0.0
.IP \(bu 2
\fI\%\-\-mode\fP = \fBmerge\-per\-layer\-name\fP (the default). The output
dataset generated by the command will contain as many layers as there are
different layer names in the source datasets.
For example if there are 2 datasets, one with layers \fIa\fP and \fIb\fP, and the
other one with layers \fIb\fP and \fIc\fP, 3 output layers will be created: \fIa\fP,
\fIb\fP (merging the 2 source layers) and \fIc\fP\&.
.IP \(bu 2
\fI\%\-\-mode\fP = \fBstack\fP\&. The output dataset generated by the command will
contain as many layers as there are layers in the source datasets.
For example if there are 2 datasets \fBds1\fP (with layers \fIa\fP and \fIb\fP) and
\fBds2\fP (with layers \fIb\fP and \fIc\fP), 4 output layers will be created: \fBds1_a\fP,
\fBds1_b\fP, \fBds2_b\fP and \fBds2_c\fP\&.
.IP \(bu 2
\fI\%\-\-mode\fP = \fBsingle\fP\&. The output dataset generated by the command will
contain one single layer, merging all layers in the source datasets.
.UNINDENT
.sp
When an output layer merges several source layer, by default the resulting
schema will contain the union of all source fields. It is possible to select
only the intersection with the \fI\%\-\-field\-strategy\fP set to \fBintersection\fP\&.
Regarding the resulting CRS, by default the CRS of the source layer will be
used as the target CRS, and features of other source layers that do no match
this CRS will be reprojected to it. \fI\%\-\-dst\-crs\fP can be used to select
a given destination CRS.
.sp
This command can also be used as the first step of \fI\%gdal vector pipeline\fP\&.
.SS Standard options
.INDENT 0.0
.TP
.B \-f, \-\-of, \-\-format, \-\-output\-format <OUTPUT\-FORMAT>
Which output vector format to use. Allowed values may be given by
\fBgdal \-\-formats | grep vector | grep rw | sort\fP
.UNINDENT
.INDENT 0.0
.TP
.B \-\-co <NAME>=<VALUE>
Many formats have one or more optional dataset creation options that can be
used to control particulars about the file created. For instance,
the GeoPackage driver supports creation options to control the version.
.sp
May be repeated.
.sp
The dataset creation options available vary by format driver, and some
simple formats have no creation options at all. A list of options
supported for a format can be listed with the
\fI\%\-\-formats\fP
command line option but the documentation for the format is the
definitive source of information on driver creation options.
See \fI\%Vector drivers\fP format
specific documentation for legal creation options for each format.
.sp
Note that dataset creation options are different from layer creation options.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-overwrite
Allow program to overwrite existing target file or dataset.
Otherwise, by default, \fBgdal\fP errors out if the target file or
dataset already exists.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-update
Whether the output dataset must be opened in update mode. Implies that
it already exists. This mode is useful when adding new layer(s) to an
already existing dataset.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-overwrite\-layer
Whether overwriting existing layer(s) is allowed.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-append
Whether appending features to existing layer(s) is allowed
.UNINDENT
.INDENT 0.0
.TP
.B \-l, \-\-layer, \-\-input\-layer <LAYER>
Name of one or more layers to inspect.  If no layer names are passed, then
all layers will be selected.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-output\-layer <OUTPUT\-LAYER>
Name of the output vector layer (in \fBsingle\fP mode, and the default is
\(dqmerged\(dq), or template to name the output vector layers in \fBstack\fP
mode (the default value is \fB{AUTO_NAME}\fP).
Not allowed in \fBmerge\-per\-layer\-name\fP mode.
.sp
The template in \fBstack\fP mode can be a string with the following variables
that will be substituted with a value computed from the input layer being processed:
.INDENT 7.0
.IP \(bu 2
\fB{AUTO_NAME}\fP: equivalent to \fB{DS_BASENAME}_{LAYER_NAME}\fP if both
values are different, or \fB{LAYER_NAME}\fP when they are identical
(case of shapefile).
.IP \(bu 2
\fB{DS_NAME}\fP: name of the source dataset
.IP \(bu 2
\fB{DS_BASENAME}\fP: base name of the source dataset
.IP \(bu 2
\fB{DS_INDEX}\fP: index of the source dataset
.IP \(bu 2
\fB{LAYER_NAME}\fP: name of the source layer
.IP \(bu 2
\fB{LAYER_INDEX}\fP: index of the source layer
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-mode merge\-per\-layer\-name|stack|single
Determine the strategy to create output layers from source layers. See
introductory paragraph for more details.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-source\-layer\-field\-name <SOURCE\-LAYER\-FIELD\-NAME>
If specified, the schema of the target layer will be extended with a field
whose name is the value of this option and whose content is
determined \fI\%\-\-source\-layer\-field\-content\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-source\-layer\-field\-content <SOURCE\-LAYER\-FIELD\-CONTENT>
If specified, the schema of the target layer will be extended with a new field
(whose name is given by \fI\%\-\-source\-layer\-field\-name\fP,
or \fBsource_ds_lyr\fP otherwise), whose content is determined by the specified
template (see \fI\%\-\-output\-layer\fP for variables that can be used).
.UNINDENT
.INDENT 0.0
.TP
.B \-\-field\-strategy union|intersection
Determines how the schema of the target layer is built from the schemas of
the input layers:
.INDENT 7.0
.IP \(bu 2
\fBunion\fP (default) to use a super\-set of all the fields from all source layers.
.IP \(bu 2
\fBintersection\fP to use a sub\-set of all the common fields from all
source layers.
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-s, \-\-src\-crs <SRC\-CRS>
Set source spatial reference. If not specified the SRS found in the input
dataset will be used.
.sp
The coordinate reference systems that can be passed are anything supported by the
OGRSpatialReference.SetFromUserInput() call, which includes EPSG Projected,
Geographic or Compound CRS (i.e. EPSG:4296), a well known text (WKT) CRS definition,
PROJ.4 declarations, or the name of a .prj file containing a WKT CRS definition.
.sp
Starting with GDAL 2.2, if the SRS has an explicit
vertical datum that points to a PROJ.4 geoidgrids, and the input dataset is a
single band dataset, a vertical correction will be applied to the values of the
dataset.
.UNINDENT
.INDENT 0.0
.TP
.B \-d, \-\-dst\-crs <SRC\-CRS>
Set destination spatial reference.
.sp
The coordinate reference systems that can be passed are anything supported by the
OGRSpatialReference.SetFromUserInput() call, which includes EPSG Projected,
Geographic or Compound CRS (i.e. EPSG:4296), a well known text (WKT) CRS definition,
PROJ.4 declarations, or the name of a .prj file containing a WKT CRS definition.
.sp
Starting with GDAL 2.2, if the SRS has an explicit
vertical datum that points to a PROJ.4 geoidgrids, and the input dataset is a
single band dataset, a vertical correction will be applied to the values of the
dataset.
.UNINDENT
.SH GDALG OUTPUT (ON-THE-FLY / STREAMED DATASET)
.sp
This program supports serializing the command line as a JSON file using the \fBGDALG\fP output format.
The resulting file can then be opened as a vector dataset using the
\fI\%GDALG: GDAL Streamed Algorithm\fP driver, and apply the specified pipeline in a on\-the\-fly /
streamed way.
.SH EXAMPLES
.SS Example 1: Creating a GeoPackage stacking all input shapefiles in separate layers.
.INDENT 0.0
.INDENT 3.5
.sp
.EX
gdal vector concat \-\-stack *.shp out.gpkg
.EE
.UNINDENT
.UNINDENT
.SS Example 2: Adding a field to indicate the source layer, and reprojecting to a single CRS
.sp
Concatenate the content of \fBfrance.shp\fP and \fBgermany.shp\fP in \fBmerged.shp\fP,
reprojecting them to ETRS89, and add a \(aqcountry\(aq field to each feature whose value is \(aqfrance\(aq or
\(aqgermany\(aq depending where it comes from:
.INDENT 0.0
.INDENT 3.5
.sp
.EX
gdal vector concat \-\-single \-\-source\-layer\-field\-name=country \-\-dst\-crs=EPSG:4258 france.shp germany.shp merged.shp
.EE
.UNINDENT
.UNINDENT
.SH AUTHOR
Even Rouault <even.rouault@spatialys.com>
.SH COPYRIGHT
1998-2025
.\" Generated by docutils manpage writer.
.
